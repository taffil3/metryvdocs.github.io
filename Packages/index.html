
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.1, mkdocs-material-8.5.7">
    
    
      
        <title>Packages - Metrics Vitals</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#packages" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Metrics Vitals" class="md-header__button md-logo" aria-label="Metrics Vitals" data-md-component="logo">
      
  <img src="../assets/icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Metrics Vitals
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Packages
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Metrics Vitals" class="md-nav__button md-logo" aria-label="Metrics Vitals" data-md-component="logo">
      
  <img src="../assets/icon.png" alt="logo">

    </a>
    Metrics Vitals
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Setting%20up%20the%20project/" class="md-nav__link">
        Setting up the project
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Running%20the%20project/" class="md-nav__link">
        Running the project
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Google%20Developer%20Console/" class="md-nav__link">
        Google Developer Console
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Paysera/" class="md-nav__link">
        Paysera
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Packages
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Packages
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#redux-core-v411" class="md-nav__link">
    Redux Core (v4.1.1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-cron-v300" class="md-nav__link">
    Node-cron (v3.0.0)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-mailjet-v335" class="md-nav__link">
    Node-Mailjet (v3.3.5)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jsonwebtoken-v851" class="md-nav__link">
    Jsonwebtoken (v8.5.1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#socketio-backend-socketio-client-frontend-v451" class="md-nav__link">
    Socket.io (backend) - Socket.io-client (frontend) (v4.5.1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ping-checkhost" class="md-nav__link">
    Ping (CheckHost)
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../On%20Release/" class="md-nav__link">
        On Release
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../MetryV%20Info/" class="md-nav__link">
        MetryV Info
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#redux-core-v411" class="md-nav__link">
    Redux Core (v4.1.1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-cron-v300" class="md-nav__link">
    Node-cron (v3.0.0)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-mailjet-v335" class="md-nav__link">
    Node-Mailjet (v3.3.5)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jsonwebtoken-v851" class="md-nav__link">
    Jsonwebtoken (v8.5.1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#socketio-backend-socketio-client-frontend-v451" class="md-nav__link">
    Socket.io (backend) - Socket.io-client (frontend) (v4.5.1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ping-checkhost" class="md-nav__link">
    Ping (CheckHost)
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="packages">Packages</h1>
<h2 id="redux-core-v411">Redux Core (v4.1.1)</h2>
<p>The Redux core library is available as a package on NPM for use with a module bundler or in a Node application:</p>
<pre><code>npm install redux
</code></pre>
<p>Along with redux we use other packages like:<br />
<a href="https://www.npmjs.com/package/redux-thunk"><code>redux-thunk (v2.3.0)</code></a>, which allows us to write functions with logic inside, that can interact with Redux's store <code>dispatch</code> and <code>getState</code> methods.<br />
<a href="https://www.npmjs.com/package/redux-logger"><code>redux-logger (v4.0.0)</code></a>, This library logs actions in developer console, giving traceable stack of user actions.<br />
<a href="https://www.npmjs.com/package/redux-devtools-extension"><code>redux-devtools-extension (v2.13.9)</code></a> with <a href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en"><code>Redux DevTools Extension</code></a>, Redux DevTools for debugging application's state changes.
The extension provides power-ups for your Redux development workflow. Apart from Redux, it can be used with any other architectures which handle the state.  </p>
<p>All of these are applies as middlewares in redux store.</p>
<h2 id="node-cron-v300">Node-cron (v3.0.0)</h2>
<p>The <a href="https://www.npmjs.com/package/node-cron"><code>node-cron</code></a> module is tiny task scheduler in pure JavaScript for node.js based on GNU crontab. This module allows you to schedule task in node.js using full crontab syntax.</p>
<pre><code>             ┌────────────── second (optional)
             │ ┌──────────── minute
             │ │ ┌────────── hour
             │ │ │ ┌──────── day of month
             │ │ │ │ ┌────── month
             │ │ │ │ │ ┌──── day of week
             │ │ │ │ │ │
             │ │ │ │ │ │
             * * * * * *
cron.schedule("* * * * *", asy.....
</code></pre>
<h2 id="node-mailjet-v335">Node-Mailjet (v3.3.5)</h2>
<p>The mailjet is the smtp used in metryv, currently is free tier, meaning it can deliver up to 200 emails per day, or 1600 per month.  </p>
<p>The Mailjet Email API uses your public and secret keys for authentication.</p>
<table>
  <tbody>
    <tr>
      <td>MJ_APIKEY_PUBLIC</td>
      <td class="password">50aeacf41fc0105336a92916902f0151</td>
    </tr>
    <tr>
      <td>MJ_APIKEY_PRIVATE</td>
      <td class="password">92a45433ecc48355c02b40e17837b871</td>
    </tr>
  </tbody>
</table>

<h2 id="jsonwebtoken-v851">Jsonwebtoken (v8.5.1)</h2>
<p>Jsonwebtoken allows us to decode, verify and generate jwt's.<br />
JWT is used in metryv to authenticate users on login or register, this package is also used in backend middlewares to authenticate api calls.  </p>
<p>Metryv uses a middleware [<code>validJWTNeeded</code>] to verify the jwt fetched from clients api call on authorization header, this token is then decoded through ("jsonwebtoken").verify(token,secret) function, passing the token and the same secret that was used to create that token.
The contents are stored on a constant first, then on the request body.<br />
Checkout this middleware in <code>/middlewares/auth.validation.middleware.js</code></p>
<h2 id="socketio-backend-socketio-client-frontend-v451">Socket.io (backend) - Socket.io-client (frontend) (v4.5.1)</h2>
<p>Socket.IO is a library that enables low-latency, bidirectional and event-based communication between a client and a server. It is built on top of the WebSocket protocol and provides additional guarantees like fallback to HTTP long-polling or automatic reconnection.  </p>
<p>Metryv uses socket io in chat_server microservices</p>
<h2 id="ping-checkhost">Ping (<a href="https://check-host.net/">CheckHost</a>)</h2>
<p>Check-Host is a modern online tool for website monitoring and checking availability of hosts, DNS records, IP addresses. It supports the latest technologies such as localized domain names (both punycode and original formats), hostname IPv6 records (also known as AAAA record).  </p>
<p>Ping allows you to test the reachability of a host and to measure the round-trip time for messages sent from the originating host to a destination computer.  </p>
<p>First we check the available hosts by making the api call on our backend server, on this url <code>https://check-host.net/nodes/hosts</code>. The availble hosts are then parsed to check the ping of given url from each given region(host)</p>
<p>Then we check the ping of given url by the client by runing command on bash</p>
<pre><code>curl -H "Accept: application/json" \ 'https://check-host.net/check-ping?host=&lt;site_url&gt;&lt;&amp;node=....&gt;
</code></pre>
<p>After checking the ping we are given a request_id to check the results, with that request_id we make an api call on this url <code>https://check-host.net/check-result/$&lt;request_id&gt;</code> to see all the results.  </p>
<p><code>When releasing on production make sure to install curl on server</code></p>
<script>
    const targetElements = document.getElementsByClassName("password");
    for(const element of targetElements){
      element.style.filter = "blur(4px)";
      element.addEventListener("click", (el) => {
        el.target.style.filter = "blur(0px)";
      })
    }
</script>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../Paysera/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Paysera" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Paysera
            </div>
          </div>
        </a>
      
      
        
        <a href="../On%20Release/" class="md-footer__link md-footer__link--next" aria-label="Next: On Release" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              On Release
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8492ddcf.min.js"></script>
      
    
  </body>
</html>